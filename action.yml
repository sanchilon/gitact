name: OpenSrcAction
description: "Open Source Verify"
inputs:
  rel_branch:
    description: ""
    required: true
    default: "main"
outputs:
  status:
    description:
    value: "Success"
runs:
 using: "composite"
 steps:
 - id: iop
   shell: bash
   run: cp -R ${{github.action_path}}/openverify ./OpenVerify
 - id: transform
   shell: bash 
   name: TRANSFORM
   run: |
      cd ./OpenVerify && git switch -C opnsrc 
      ./openverify/transform.linux.sh && \
      ./openverify/transform.linux.sh && \
      ./openverify/transform.linux.sh && \
      rm -rf openverify && \
      git switch main && git archive OpenVerify.zip opnsrc 
 - id: list
   name: LIST
   shell: bash
   run: ls -al
 #- id: push
 #  name: PUSH
 #  shell: bash
 #  run: | 
 #    cd $HOME/VerifyProj
 #    cp $HOME/OpenVerify/OpenVerify.zip .
 #    git add OpenVerify.zip && git commit -m "Added open source"
 #    git push -u origin main
